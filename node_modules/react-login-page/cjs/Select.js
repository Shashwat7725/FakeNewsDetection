"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault")["default"];
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard")["default"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Select = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectSpread3 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _store = require("./store");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["rename", "keyname", "visible"];
var Select = exports.Select = /*#__PURE__*/(0, _react.memo)(function (props) {
  var _useStore = (0, _store.useStore)(),
    _useStore$fields = _useStore.fields,
    fields = _useStore$fields === void 0 ? {} : _useStore$fields,
    dispatch = _useStore.dispatch;
  var rename = props.rename,
    keyname = props.keyname,
    _props$visible = props.visible,
    visible = _props$visible === void 0 ? true : _props$visible,
    elmProps = (0, _objectWithoutProperties2["default"])(props, _excluded);
  (0, _react.useEffect)(function () {
    if (keyname || props.name) {
      var key = keyname || props.name;
      delete fields[key];
      dispatch({
        fields: (0, _objectSpread3["default"])((0, _objectSpread3["default"])({}, fields), {}, (0, _defineProperty2["default"])({}, key, visible ? /*#__PURE__*/(0, _jsxRuntime.jsx)("select", (0, _objectSpread3["default"])((0, _objectSpread3["default"])({}, elmProps), {}, {
          name: rename || props.name
        })) : null))
      });
    }
  }, [props]);
  return null;
});
Select.displayName = 'Login.Select';