"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault")["default"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Button = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectSpread3 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = require("react");
var _store = require("./store");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["keyname", "visible"];
var Button = exports.Button = /*#__PURE__*/(0, _react.memo)(function (props) {
  var _useStore = (0, _store.useStore)(),
    _useStore$buttons = _useStore.buttons,
    buttons = _useStore$buttons === void 0 ? {} : _useStore$buttons,
    dispatch = _useStore.dispatch;
  (0, _react.useEffect)(function () {
    var keyname = props.keyname,
      _props$visible = props.visible,
      visible = _props$visible === void 0 ? true : _props$visible,
      elmProps = (0, _objectWithoutProperties2["default"])(props, _excluded);
    if (keyname || elmProps.name) {
      var key = keyname || elmProps.name;
      delete buttons[key];
      dispatch({
        buttons: (0, _objectSpread3["default"])((0, _objectSpread3["default"])({}, buttons), {}, (0, _defineProperty2["default"])({}, key, visible ? /*#__PURE__*/(0, _jsxRuntime.jsx)("button", (0, _objectSpread3["default"])({
          type: "submit"
        }, elmProps)) : null))
      });
    }
  }, [props]);
  return null;
});
Button.displayName = 'Login.Button';